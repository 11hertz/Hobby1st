<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="JoinState">
  
  	<!-- 가입요청하기 -->
  	<insert id="requestJoin">
  		insert into club_join_state values(club_join_state_seq.nextval, #{cs_board_seq}, #{cs_boss_id}, #{cs_join_id}, 1)
  	</insert>
  
  	<!-- 가입신청한 회원 정보 리스트 -->
  	<select id="joinList">
  		select m.* from (select * from club_join_state where cs_boss_id = #{value} and cs_state=1) s join member m on (s.cs_join_id = m.mem_id)
  	</select>
  	
  	<!-- 가입신청된 동호회 정보 리스트 -->
  	<select id="joinList">
  		select c.* from (select * from club_join_state where cs_boss_id = #{value} and cs_state=1) s join club_list c on (s.cs_board_seq  = c.cl_id)
  	</select>
  </mapper>
